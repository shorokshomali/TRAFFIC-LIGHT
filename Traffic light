Code tested in Quartus Prime
